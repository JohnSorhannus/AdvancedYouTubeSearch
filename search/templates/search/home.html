{% extends 'search/main.html' %}

{% block content %}
<div class="container">
	<div class="mt-2 text-center">
		<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#addVideoModal">Add Video to Library</button>
	</div>
	
	<div class="modal fade" id="addVideoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
		    <div class="modal-content">
		      <form method="POST" action="addVideo/" id="newvid">
		      	  {% csrf_token %}
			      <div class="modal-header">
			        <h5 class="modal-title" id="exampleModalLabel">Add Video</h5>
			        <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
			      </div>
			      <div class="modal-body">
			        <p>Do you have a video you would like to add to the Advanced YouTube Search library? Paste the URL of the YouTube video below</p>
			        <input type="url" name='url' class="form-control">
			        <div class="d-none" id="spinner" role="status">
			        	<span class="sr-only">Loading...</span>
			        </div>
			        <p id="statusMessage" class="d-none"></p>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			        <button type="submit" class="btn btn-danger">Add</button>
			      </div>
		      </form>
		    </div>
	  	</div>
	</div>
	<form class="mt-xl-4" method="GET" action="/results/">
		<div class="row form-group justify-content-center">
			<label class="col-xl-1 col-form-label">Title</label>
			<div class="col-xl-4">
				<input type="text" name='title' value='{{ request.GET.title }}' class="form-control">
			</div>
		</div>
		<div class="row form-group justify-content-center">
			<label class="col-xl-1 col-form-label">Description</label>
			<div class="col-xl-4">
				<input type="text" name='description' value='{{ request.GET.description }}' class="form-control">
			</div>
		</div>
		<div class="row form-group justify-content-center">
			<label class="col-xl-1 col-form-label">User</label>
			<div class="col-xl-4">
				<input type="text" name='user' value='{{ request.GET.user }}' class="form-control">
			</div>
		</div>
		<div class="row form-group justify-content-center">
			<label class="col-xl-1 col-form-label pr-0">Objects <span type="button" data-toggle="popover" data-placement="bottom" data-content="Advanced YouTube Search can detect up to 80 different objects. See a full list <a href='https://cocodataset.org/#explore' target='_blank'>here</a>.">&#9432;</span></label>
			<div class="col-xl-4">
				<div id="objects">
					<input type="text" name='object1' value='{{ request.GET.object1 }}' class="form-control">
				</div>
				<button type="button" onclick="addObjectBox()" class="btn btn-danger mt-1 float-right">Add</button>
			</div>
		</div>
		<div class="row form-group justify-content-center">
			<label class="col-xl-1 col-form-label">Captions</label>
			<div class="col-xl-4">
				<input type="text" name='caption' value='{{ request.GET.caption }}' class="form-control">
			</div>
		</div>
		<div class="row form-group justify-content-center">
			<label class="col-xl-1 col-form-label">Date</label>
			<div class="col-xl-4 text-center">
				<input type="date" name='date1' value='{{ request.GET.date1 }}' class="form-control">
				<label class="col-form-label">To</label>
				<input type="date" name='date2' value='{{ request.GET.date2 }}'class="form-control">
			</div>
		</div>
		<div class="row form-group justify-content-center">
			<button type="submit" class="btn btn-danger">Search</button>
		</div>
	</form>
</div>
{% load static %}
<script src="{% static 'js/add_object.js' %}"></script>
{% endblock %}